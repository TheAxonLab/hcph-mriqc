<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="NiReports: https://www.nipreps.org/" />
<title>sub-001_ses-045_task-rest_dir-LR_bold :: MRIQC's BOLD fMRI report</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
var timestamp = Date.now()

function read_form() {
    var ds = "HCPh";
    var sub = "sub-001_ses-045_task-rest_dir-LR_echo-1_part-mag_bold.nii.gz";

    var artifacts = [];
    $('#qcartifacts-group input:checked').each(function() {
        artifacts.push($(this).attr('name'));
    });

    var rating = $('#qcslider').val();
    var payload = {
        'dataset': ds,
        'subject': sub,
        'rating': rating,
        'artifacts': artifacts,
        'time_sec': (Date.now() - timestamp) / 1000,
        'confidence': $('#qcextra-confidence').val(),
        'comments': $('#qcextra-comments').val()
    };

    var file = new Blob([JSON.stringify(payload)], {type: 'text/json'});
    $('#btn-download').attr('href', URL.createObjectURL(file));
    $('#btn-download').attr('download', payload['dataset'] + "_" + payload['subject'] + ".json");
    return payload
};

function toggle_rating() {
    if ($('#qcrating-menu').hasClass('d-none')) {
        $('#qcrating-menu').removeClass('d-none');
        $('#qcrating-toggler').prop('checked', true);
    } else {
        $('#qcrating-menu').addClass('d-none');
        $('#qcrating-toggler').prop('checked', false);
    }
};

$(window).on('load',function(){
    var authorization = $('#btn-post').val()
    if (authorization.includes("secret_token")) {
        $('#btn-post').addClass('d-none');
    };
    timestamp = Date.now();
});

</script>
<style type="text/css">
/* The slider itself */
.slider {
  -webkit-appearance: none;  /* Override default CSS styles */
  appearance: none;
  margin-bottom: 8px;
  margin-left: 10%;
  width: 80%;
  height: 5px; /* Specified height */
  background: #d3d3d3; /* Grey background */
  outline: none; /* Remove outline */
  opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
  -webkit-transition: .2s; /* 0.2 seconds transition on hover */
  transition: opacity .2s;
}

/* Mouse-over effects */
.slider:hover {
  opacity: 1; /* Fully shown on mouse-over */
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border: 0;
  background: url('https://raw.githubusercontent.com/nipreps/nireports/main/assets/slider-handle.png');
  cursor: pointer;
  z-index: 2000 !important;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border: 0;
  background: url('https://raw.githubusercontent.com/nipreps/nireports/main/assets/slider-handle.png');
  cursor: pointer;
  z-index: 2000 !important;
}

</style>
</head>
<body style="font-family: helvetica;">
<nav class="navbar fixed-top navbar-expand-lg bg-light">
<div class="container-fluid">
<div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarBasic echo-wise reports" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#Basic echo-wise reports">
            Basic echo-wise reports
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#datatype-figures_desc-stdev_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">1</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-stdev_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">2</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-stdev_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">3</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-stdev_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">4</span>.</a></li>
            </ul>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarExtended echo-wise reports" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#Extended echo-wise reports">
            Extended echo-wise reports
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#datatype-figures_desc-mean_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">1</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-mean_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">2</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-mean_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">3</span>.</a></li>
                <li><a class="dropdown-item" href="#datatype-figures_desc-mean_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest">Reports for: echo <span class="bids-entity">4</span>.</a></li>
            </ul>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarAbout" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#About">
            About
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#errors">Errors</a></li>
                <li><a class="dropdown-item" href="#meta-about-metadata">Reproducibility and provenance information</a></li>
            </ul>
        </li>
    </ul>
</div>
</div>
<div class="d-flex flex-row-reverse">
<div class="form-check form-switch align-self-center flex-fill me-4">
<input class="form-check-input" type="checkbox" id="qcrating-toggler"></input>
<label class="form-check-label" style="width: 100pt;" for="qcrating-toggler">Rating widget</label>
</div>
</div>
</nav>
<noscript>
    <h1 class="text-danger"> The navigation menu uses Javascript. Without it this report might not work as expected </h1>
</noscript>

    <div id="Basic echo-wise reports" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">Basic echo-wise reports</h1>
        <div id="datatype-figures_desc-stdev_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">1</span>.</h2><h3 class="run-title mt-3">Standard deviation of signal through time</h3><p class="elem-caption">The voxel-wise standard deviation of the signal (variability along time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-stdev_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-stdev_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-stdev_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-background_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of the BOLD timeseries</h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-background_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-background_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-background_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-zoomed_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Voxel-wise average of BOLD time-series, zoomed-in covering just the brain</h3><p class="elem-caption">This panel shows a mosaic of the brain. This mosaic is the most suitable to screen head-motion intensity inhomogeneities, global/local noise, signal leakage (for example, from the eyeballs and across the phase-encoding axis), etc.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-zoomed_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-zoomed_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-zoomed_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-carpet_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Carpetplot and nuisance signals</h3><p class="elem-caption">The so-called &laquo;carpetplot&raquo; may assist in assessing head-motion derived artifacts and respiation effects.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-carpet_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-carpet_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-carpet_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-stdev_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">2</span>.</h2><h3 class="run-title mt-3">Standard deviation of signal through time</h3><p class="elem-caption">The voxel-wise standard deviation of the signal (variability along time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-stdev_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-stdev_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-stdev_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-background_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of the BOLD timeseries</h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-background_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-background_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-background_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-zoomed_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Voxel-wise average of BOLD time-series, zoomed-in covering just the brain</h3><p class="elem-caption">This panel shows a mosaic of the brain. This mosaic is the most suitable to screen head-motion intensity inhomogeneities, global/local noise, signal leakage (for example, from the eyeballs and across the phase-encoding axis), etc.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-zoomed_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-zoomed_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-zoomed_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-carpet_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Carpetplot and nuisance signals</h3><p class="elem-caption">The so-called &laquo;carpetplot&raquo; may assist in assessing head-motion derived artifacts and respiation effects.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-carpet_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-carpet_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-carpet_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-stdev_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">3</span>.</h2><h3 class="run-title mt-3">Standard deviation of signal through time</h3><p class="elem-caption">The voxel-wise standard deviation of the signal (variability along time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-stdev_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-stdev_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-stdev_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-background_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of the BOLD timeseries</h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-background_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-background_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-background_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-zoomed_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Voxel-wise average of BOLD time-series, zoomed-in covering just the brain</h3><p class="elem-caption">This panel shows a mosaic of the brain. This mosaic is the most suitable to screen head-motion intensity inhomogeneities, global/local noise, signal leakage (for example, from the eyeballs and across the phase-encoding axis), etc.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-zoomed_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-zoomed_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-zoomed_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-carpet_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Carpetplot and nuisance signals</h3><p class="elem-caption">The so-called &laquo;carpetplot&raquo; may assist in assessing head-motion derived artifacts and respiation effects.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-carpet_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-carpet_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-carpet_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-stdev_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">4</span>.</h2><h3 class="run-title mt-3">Standard deviation of signal through time</h3><p class="elem-caption">The voxel-wise standard deviation of the signal (variability along time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-stdev_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-stdev_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-stdev_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-background_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of the BOLD timeseries</h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-background_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-background_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-background_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-zoomed_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Voxel-wise average of BOLD time-series, zoomed-in covering just the brain</h3><p class="elem-caption">This panel shows a mosaic of the brain. This mosaic is the most suitable to screen head-motion intensity inhomogeneities, global/local noise, signal leakage (for example, from the eyeballs and across the phase-encoding axis), etc.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-zoomed_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-zoomed_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-zoomed_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-carpet_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Carpetplot and nuisance signals</h3><p class="elem-caption">The so-called &laquo;carpetplot&raquo; may assist in assessing head-motion derived artifacts and respiation effects.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-carpet_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-carpet_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-carpet_bold.svg</a></small>

        </div>
    </div>
    <div id="Extended echo-wise reports" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">Extended echo-wise reports</h1>
        <div id="datatype-figures_desc-mean_direction-LR_echo-1_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">1</span>.</h2><h3 class="run-title mt-3">Voxel-wise average of BOLD time-series</h3><p class="elem-caption">The average signal calculated across the last axis (time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-mean_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-mean_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-1_desc-mean_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-mean_direction-LR_echo-2_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">2</span>.</h2><h3 class="run-title mt-3">Voxel-wise average of BOLD time-series</h3><p class="elem-caption">The average signal calculated across the last axis (time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-mean_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-mean_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-2_desc-mean_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-mean_direction-LR_echo-3_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">3</span>.</h2><h3 class="run-title mt-3">Voxel-wise average of BOLD time-series</h3><p class="elem-caption">The average signal calculated across the last axis (time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-mean_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-mean_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-3_desc-mean_bold.svg</a></small>

        </div>
        <div id="datatype-figures_desc-mean_direction-LR_echo-4_session-045_subject-001_suffix-bold_task-rest" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: echo <span class="bids-entity">4</span>.</h2><h3 class="run-title mt-3">Voxel-wise average of BOLD time-series</h3><p class="elem-caption">The average signal calculated across the last axis (time).</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-mean_bold.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-mean_bold.svg" target="_blank">sub-001/figures/sub-001_ses-045_task-rest_dir-LR_echo-4_desc-mean_bold.svg</a></small>

        </div>
    </div>
    <div id="About" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">About</h1>
        <div id="errors" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Errors</h2>                    <p class="alert alert-success" role="alert">No errors to report!</p>
        </div>
        <div id="meta-about-metadata" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reproducibility and provenance information</h2><p class="elem-caption">Thanks for using <em>MRIQC</em>. The following information may assist in
reconstructing the provenance of the corresponding derivatives.
</p>                    <div class="accordion accordion-flush" id="about-metadata">


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-0">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-0-collapse" aria-controls="about-metadata-0-collapse">
        Provenance Information
      </button>
    </h2>
    <div id="about-metadata-0-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-0-heading" data-bs-parent="#about-metadata-0">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-0" class="table table-sm table-striped">
<tr><td colspan=2>Execution environment</td><td>posix</td></tr>
<tr><td colspan=2>Input filename</td><td><BIDS root>/sub-001/ses-045/func/sub-001_ses-045_task-rest_dir-LR_echo-1_part-mag_bold.nii.gz</td></tr>
<tr><td>Versions</td><td>MRIQC</td><td>24.1.0.dev15+g9586c867.d20240825</td></tr>
<tr><td>Versions</td><td>NiPype</td><td>1.8.6</td></tr>
<tr><td>Versions</td><td>TemplateFlow</td><td>24.2.0</td></tr>
<tr><td colspan=2>md5sum</td><td>a0c137c1412f9b5d67361d8c81cda235</td></tr>
</table>

      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-1">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-1-collapse" aria-controls="about-metadata-1-collapse">
        Dataset Information
      </button>
    </h2>
    <div id="about-metadata-1-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-1-heading" data-bs-parent="#about-metadata-1">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-1" class="table table-sm table-striped">
<tr><td>AcquisitionDuration</td><td>1230.47</td></tr>
<tr><td>AcquisitionMatrixPE</td><td>76</td></tr>
<tr><td>AcquisitionNumber</td><td>1</td></tr>
<tr><td>AcquisitionTime</td><td>19:27:59.370000</td></tr>
<tr><td>B0FieldSource</td><td>['045pepolarbold', '045phasediff']</td></tr>
<tr><td>BandwidthPerPixelPhaseEncode</td><td>40.486</td></tr>
<tr><td>BaseResolution</td><td>102</td></tr>
<tr><td>BodyPartExamined</td><td>BRAIN</td></tr>
<tr><td>CogAtlasID</td><td>https://www.cognitiveatlas.org/task/id/trm_4c8a834779883/</td></tr>
<tr><td>CoilCombinationMethod</td><td>Sum of Squares</td></tr>
<tr><td>CoilString</td><td>HeadNeck_64</td></tr>
<tr><td>ConversionSoftware</td><td>dcm2niix</td></tr>
<tr><td>ConversionSoftwareVersion</td><td>v1.0.20220720</td></tr>
<tr><td>DerivedVendorReportedEchoSpacing</td><td>0.000649997</td></tr>
<tr><td>DeviceSerialNumber</td><td>67014</td></tr>
<tr><td>DwellTime</td><td>2.5e-06</td></tr>
<tr><td>EchoNumber</td><td>1</td></tr>
<tr><td>EchoTime</td><td>0.0126</td></tr>
<tr><td>EchoTrainLength</td><td>28</td></tr>
<tr><td>EffectiveEchoSpacing</td><td>0.000324999</td></tr>
<tr><td>FlipAngle</td><td>64</td></tr>
<tr><td>HeudiconvVersion</td><td>1.0.0</td></tr>
<tr><td>ImageComments</td><td>Unaliased MB4/PE4/LB</td></tr>
<tr><td>ImageOrientationPatientDICOM</td><td>[0.999432, -0.00158001, 0.0336498, 0.00994306, 0.968232, -0.249856]</td></tr>
<tr><td>ImageType</td><td>['ORIGINAL', 'PRIMARY', 'FMRI', 'NONE']</td></tr>
<tr><td>ImageTypeText</td><td>['ORIGINAL', 'PRIMARY', 'M', 'MB', 'TE1', 'DIS2D']</td></tr>
<tr><td>ImagingFrequency</td><td>123.248</td></tr>
<tr><td>InPlanePhaseEncodingDirectionDICOM</td><td>ROW</td></tr>
<tr><td>InstitutionAddress</td><td>Rue du Bugnon 21,Lausanne,District,CH,1011</td></tr>
<tr><td>InstitutionName</td><td>CHUV</td></tr>
<tr><td>MRAcquisitionType</td><td>2D</td></tr>
<tr><td>MTState</td><td>False</td></tr>
<tr><td>MagneticFieldStrength</td><td>3</td></tr>
<tr><td>Manufacturer</td><td>Siemens</td></tr>
<tr><td>ManufacturersModelName</td><td>MAGNETOM Prisma Fit</td></tr>
<tr><td>MatrixCoilMode</td><td>GRAPPA</td></tr>
<tr><td>Modality</td><td>MR</td></tr>
<tr><td>MultibandAccelerationFactor</td><td>4</td></tr>
<tr><td>NonlinearGradientCorrection</td><td>True</td></tr>
<tr><td>ParallelAcquisitionTechnique</td><td>GRAPPA</td></tr>
<tr><td>ParallelReductionFactorInPlane</td><td>2</td></tr>
<tr><td>PartialFourier</td><td>0.75</td></tr>
<tr><td>PartialFourierDirection</td><td>PHASE</td></tr>
<tr><td>PatientPosition</td><td>HFS</td></tr>
<tr><td>PercentPhaseFOV</td><td>74.5098</td></tr>
<tr><td>PercentSampling</td><td>100</td></tr>
<tr><td>PhaseEchoTime1</td><td>0.0126</td></tr>
<tr><td>PhaseEchoTime2</td><td>0.0322</td></tr>
<tr><td>PhaseEncodingDirection</td><td>i-</td></tr>
<tr><td>PhaseResolution</td><td>1</td></tr>
<tr><td>PixelBandwidth</td><td>1961</td></tr>
<tr><td>ProcedureStepDescription</td><td>https://www.axonlab.org/hcph-sops/</td></tr>
<tr><td>ProtocolName</td><td>func-bold_task-rest_dir-LR__cmrr_me4_sms4</td></tr>
<tr><td>PulseSequenceDetails</td><td>%CustomerSeq%\cmrr_mbep2d_bold</td></tr>
<tr><td>PulseSequenceName</td><td>epfid2d4_76</td></tr>
<tr><td>ReceiveCoilActiveElements</td><td>HC1-7</td></tr>
<tr><td>ReceiveCoilName</td><td>HeadNeck_64</td></tr>
<tr><td>ReconMatrixPE</td><td>76</td></tr>
<tr><td>RefLinesPE</td><td>18</td></tr>
<tr><td>RepetitionTime</td><td>1.6</td></tr>
<tr><td>ScanOptions</td><td>PFP\FS</td></tr>
<tr><td>ScanningSequence</td><td>EP</td></tr>
<tr><td>SequenceVariant</td><td>SK\SS\OSP</td></tr>
<tr><td>SeriesDescription</td><td>func-bold_task-rest_dir-LR__cmrr_me4_sms4</td></tr>
<tr><td>SeriesNumber</td><td>23</td></tr>
<tr><td>ShimSetting</td><td>[8235, -5631, -6032, 694, 16, -188, 74, 42]</td></tr>
<tr><td>SliceThickness</td><td>2.2</td></tr>
<tr><td>SliceTiming</td><td>[0, 0.8425, 0.1075, 0.95, 0.2125, 1.055, 0.3175, 1.16, 0.4225, 1.265, 0.5275, 1.37, 0.6325, 1.475, 0.7375, 0, 0.8425, 0.1075, 0.95, 0.2125, 1.055, 0.3175, 1.16, 0.4225, 1.265, 0.5275, 1.37, 0.6325, 1.475, 0.7375, 0, 0.8425, 0.1075, 0.95, 0.2125, 1.055, 0.3175, 1.16, 0.4225, 1.265, 0.5275, 1.37, 0.6325, 1.475, 0.7375, 0, 0.8425, 0.1075, 0.95, 0.2125, 1.055, 0.3175, 1.16, 0.4225, 1.265, 0.5275, 1.37, 0.6325, 1.475, 0.7375]</td></tr>
<tr><td>SoftwareVersions</td><td>syngo MR XA30</td></tr>
<tr><td>SpacingBetweenSlices</td><td>2.2</td></tr>
<tr><td>StationName</td><td>LRG10884</td></tr>
<tr><td>TaskName</td><td>Naturalistic Scenes Watching Resting State</td></tr>
<tr><td>TotalReadoutTime</td><td>0.0243749</td></tr>
<tr><td>TxRefAmp</td><td>243.334</td></tr>
<tr><td>WipMemBlock</td><td>c7aff7d1-6609-404b-9ee6-e298fe17b2ad||Sequence: R017 nxva30a/master r/d34922cc2+; Jun 27 2022 13:20:16 by eja</td></tr>
</table>

      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-2">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-2-collapse" aria-controls="about-metadata-2-collapse">
        Extracted Image quality metrics (IQMs)
      </button>
    </h2>
    <div id="about-metadata-2-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-2-heading" data-bs-parent="#about-metadata-2">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-2" class="table table-sm table-striped">
<tr><td colspan=3>aor</td><td>[0.0006554666666666666, 0.0007670000000000001, 0.0007921066666666667, 0.0008496799999999999]</td></tr>
<tr><td colspan=3>aqi</td><td>[0.011025701693333332, 0.013886787146666668, 0.021085654933333337, 0.032037550533333334]</td></tr>
<tr><td colspan=3>dummy_trs</td><td>0</td></tr>
<tr><td>dvars</td><td colspan=2>nstd</td><td>40.40099222670227</td></tr>
<tr><td>dvars</td><td colspan=2>std</td><td>1.0336258450600795</td></tr>
<tr><td>dvars</td><td colspan=2>vstd</td><td>1.0040445794125499</td></tr>
<tr><td colspan=3>efc</td><td>0.6524</td></tr>
<tr><td colspan=3>fber</td><td>158.7921</td></tr>
<tr><td>fd</td><td colspan=2>mean</td><td>0.1294169991936195</td></tr>
<tr><td>fd</td><td colspan=2>num</td><td>63</td></tr>
<tr><td>fd</td><td colspan=2>perc</td><td>8.4</td></tr>
<tr><td>fwhm</td><td colspan=2>avg</td><td>3.3877057922844904</td></tr>
<tr><td>fwhm</td><td colspan=2>x</td><td>3.2430285323015555</td></tr>
<tr><td>fwhm</td><td colspan=2>y</td><td>3.407020738877435</td></tr>
<tr><td>fwhm</td><td colspan=2>z</td><td>3.5130681056744812</td></tr>
<tr><td colspan=3>gcor</td><td>[0.00406883, 0.00473828, 0.00519763, 0.00436815]</td></tr>
<tr><td>gsr</td><td colspan=2>x</td><td>0.13007813692092896</td></tr>
<tr><td>gsr</td><td colspan=2>y</td><td>0.019468799233436584</td></tr>
<tr><td>size</td><td colspan=2>t</td><td>750</td></tr>
<tr><td>size</td><td colspan=2>x</td><td>76</td></tr>
<tr><td>size</td><td colspan=2>y</td><td>102</td></tr>
<tr><td>size</td><td colspan=2>z</td><td>60</td></tr>
<tr><td colspan=3>snr</td><td>2.5988408251883506</td></tr>
<tr><td>spacing</td><td colspan=2>tr</td><td>1.600000023841858</td></tr>
<tr><td>spacing</td><td colspan=2>x</td><td>2.196079969406128</td></tr>
<tr><td>spacing</td><td colspan=2>y</td><td>2.196079969406128</td></tr>
<tr><td>spacing</td><td colspan=2>z</td><td>2.200000047683716</td></tr>
<tr><td>summary</td><td>bg</td><td>k</td><td>5.6915</td></tr>
<tr><td>summary</td><td>bg</td><td>mad</td><td>56.4951</td></tr>
<tr><td>summary</td><td>bg</td><td>mean</td><td>165.3986</td></tr>
<tr><td>summary</td><td>bg</td><td>median</td><td>63.0</td></tr>
<tr><td>summary</td><td>bg</td><td>n</td><td>328055.0</td></tr>
<tr><td>summary</td><td>bg</td><td>p05</td><td>0.0</td></tr>
<tr><td>summary</td><td>bg</td><td>p95</td><td>717.0</td></tr>
<tr><td>summary</td><td>bg</td><td>stdv</td><td>237.4191</td></tr>
<tr><td>summary</td><td>fg</td><td>k</td><td>0.651</td></tr>
<tr><td>summary</td><td>fg</td><td>mad</td><td>293.7845</td></tr>
<tr><td>summary</td><td>fg</td><td>mean</td><td>810.2813</td></tr>
<tr><td>summary</td><td>fg</td><td>median</td><td>788.0</td></tr>
<tr><td>summary</td><td>fg</td><td>n</td><td>137065.0</td></tr>
<tr><td>summary</td><td>fg</td><td>p05</td><td>356.0</td></tr>
<tr><td>summary</td><td>fg</td><td>p95</td><td>1327.0</td></tr>
<tr><td>summary</td><td>fg</td><td>stdv</td><td>303.211</td></tr>
<tr><td colspan=3>tsnr</td><td>32.04284145554993</td></tr>
</table>

      </div>
    </div>
  </div>

</div>
        </div>
    </div>

<div id="qcrating-menu" class="card position-fixed d-none" style="width: 30%; top: 100px; left: 65%; max-height: 85%; overflow-y: auto;">
<div class="card-header m-0">
    Rating widget
    <button type="button" class="btn-close position-absolute top-0 end-0" aria-label="Close" id="close-qcrating-menu" onclick="toggle_rating()" style="margin: 10px 10px 0 0"></button>
</div>
<div class="card-body">
<div class="accordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="qcslider-head">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#qcslider-collapse" aria-expanded="true" aria-controls="qcslider-collapse">Overall Quality Rating</button>
    </h2>
    <div id="qcslider-collapse" class="accordion-collapse collapse show" aria-labelledby="qcslider-head">
      <div class="accordion-body">
        <input type="range" min="1.0" max="4.0" step="0.05" value="2.5" id="qcslider" class="slider">
        <ul class="list-group list-group-horizontal slider-labels" style="width: 100%">
            <li class="list-group-item list-group-item-danger small" style="font-size: 0.7em; width: 25%; text-align:center">Exclude</li>
            <li class="list-group-item list-group-item-warning small" style="font-size: 0.7em; width: 25%; text-align:center">Poor</li>
            <li class="list-group-item list-group-item-primary small" style="font-size: 0.7em; width: 25%; text-align:center">Acceptable</li>
            <li class="list-group-item list-group-item-success small" style="font-size: 0.7em; width: 25%; text-align:center">Excellent</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="qcartifacts-head">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qcartifacts-collapse" aria-expanded="false" aria-controls="qcartifacts-collapse">
        Record specific artifacts
      </button>
    </h2>
    <div id="qcartifacts-collapse" class="accordion-collapse collapse" aria-labelledby="qcartifacts-head">
      <div class="accordion-body">
        <fieldset id="qcartifacts-group" class="form-group">
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="head-motion" id="qcartifacts-item-0" />
                <label class="form-check-label" for="qcartifacts-item-0">Head motion artifacts</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="eye-spillover" id="qcartifacts-item-1" />
                <label class="form-check-label" for="qcartifacts-item-1">Eye spillover through <abbr title="phase-encoding">PE</abbr> axis</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noneye-spillover" id="qcartifacts-item-2" />
                <label class="form-check-label" for="qcartifacts-item-2">Non-eye spillover through <abbr title="phase-encoding">PE</abbr> axis</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="coil-failure" id="qcartifacts-item-3" />
                <label class="form-check-label" for="qcartifacts-item-3">Coil failure</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noise-global" id="qcartifacts-item-4" />
                <label class="form-check-label" for="qcartifacts-item-4">Global noise</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noise-local" id="qcartifacts-item-5" />
                <label class="form-check-label" for="qcartifacts-item-5">Local noise</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="em-perturbation" id="qcartifacts-item-6" />
                <label class="form-check-label" for="qcartifacts-item-6"><abbr title="electromagnetic">EM</abbr> interference/perturbation</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="wrap-around" id="qcartifacts-item-7" />
                <label class="form-check-label" for="qcartifacts-item-7">Problematic <abbr title="field-of-view">FoV</abbr> prescription / wrap-around</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="ghost-aliasing" id="qcartifacts-item-8" />
                <label class="form-check-label" for="qcartifacts-item-8">Aliasing ghosts</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="ghost-other" id="qcartifacts-item-9" />
                <label class="form-check-label" for="qcartifacts-item-9">Other ghosts (for example, <abbr title="radiofrequency">RF</abbr> spoiling)</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="inu" id="qcartifacts-item-10" />
                <label class="form-check-label" for="qcartifacts-item-10">Intensity non-uniformity (B<sub>1</sub> bias)</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="field-variation" id="qcartifacts-item-11" />
                <label class="form-check-label" for="qcartifacts-item-11">Temporal B<sub>1</sub> field non-uniformity variation</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="processing" id="qcartifacts-item-12" />
                <label class="form-check-label" for="qcartifacts-item-12">Processing such as denoising, defacing or resamplings happened</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="uncategorized" id="qcartifacts-item-13" />
                <label class="form-check-label" for="qcartifacts-item-13">Other uncategorized artifact(s)</label>
            </div>
        </fieldset>
      </div> <!-- accordion-body -->
    </div> <!-- accordion-collapse -->
  </div> <!-- accordion-item -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="qcextra-head">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qcextra-collapse" aria-expanded="false" aria-controls="qcextra-collapse">
        Extra details
      </button>
    </h2>
    <div id="qcextra-collapse" class="accordion-collapse collapse" aria-labelledby="qcextra-head">
      <div class="accordion-body">
        <div class="input-group">
          <span class="input-group-text">Comments</span>
          <textarea class="form-control" aria-label="Comments" id="qcextra-comments"></textarea>
        </div>

        <p style="margin-top: 20px; font-weight: bold">Rater confidence</p>
        <input type="range" min="0.0" max="4.0" step="0.05" value="3.5" id="qcextra-confidence" class="slider" style="margin-left: 22%;width: 56%;">
        <ul class="list-group list-group-horizontal slider-labels" style="width: 100%">
            <li class="list-group-item list-group-item-warning small" style="width: 50%; text-align:center">Doubtful</li>
            <li class="list-group-item list-group-item-success bg-success text-white small" style="width: 50%; text-align:center">Confident</li>
        </ul>
       </div> <!-- accordion-body -->
    </div> <!-- accordion-collapse -->
  </div> <!-- accordion-item -->
</div>
<div style="margin-top: 10px">
<a class="btn btn-primary disabled" id="btn-download" href="">Download</a>
</div>
<script type="text/javascript">
var MINIMUM_RATING_TIME = 10
$('#qcslider').on('input', function() {

    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };

    $('#qcslider-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)bg-\S+/g) || []).join(' ');
    });
    $('#qcslider-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)text-\S+/g) || []).join(' ');
    });

    if ( $(this).val() < 1.5 ) {
        $('#qcslider-collapse .list-group-item-danger').addClass('bg-danger text-white');
    } else if ( $(this).val() > 3.5 ) {
        $('#qcslider-collapse .list-group-item-success').addClass('bg-success text-white');
    } else if ( $(this).val() < 2.5 ) {
        $('#qcslider-collapse .list-group-item-warning').addClass('bg-warning text-dark');
    } else {
        $('#qcslider-collapse .list-group-item-primary').addClass('bg-primary text-white');
    };

    var payload = read_form();
});

$('#qcextra-confidence').on('input', function() {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };

    $('#qcextra-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)bg-\S+/g) || []).join(' ');
    });
    $('#qcextra-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)text-\S+/g) || []).join(' ');
    });

    if ( $(this).val() < 2.0 ) {
        $('#qcextra-collapse .list-group-item-warning').addClass('bg-warning text-dark');
    } else {
        $('#qcextra-collapse .list-group-item-success').addClass('bg-success text-white');
    };

    var payload = read_form();
});


$('#qcextra-comments').bind('input propertychange', function() {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };
});

$( '#btn-post' ).click( function() {
    var payload = read_form();
    var md5sum = "unspecified";
    var params = {
        'rating': payload['rating'],
        'md5sum': md5sum,
        'name': "",
        'comment': JSON.stringify(payload['artifacts'])
    };

    // disable development releases
    var authorization = $(this).val();
    var ratingReq = new XMLHttpRequest();
    ratingReq.open("POST", "https://mriqc.nimh.nih.gov:443/api/v1/rating");
    ratingReq.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    ratingReq.setRequestHeader("Authorization", authorization);
    ratingReq.onload = function () {
        status = ratingReq.status;
        $('#btn-post').removeClass('btn-primary');
        $('#btn-post').attr('disabled', true);
        $('#btn-post').attr('aria-disabled', true);
        $('#btn-post').prop('disabled');
        $('#btn-post').addClass('disabled');
        $('#btn-post').removeClass('active');
        if (status === "201") {
            $('#btn-post').addClass('btn-success');
            $('#btn-post').html('Posted!');
        } else {
            $('#btn-post').addClass('btn-danger');
            $('#btn-post').html('Failed');
        };
    };
    ratingReq.send(JSON.stringify(params));
});

$( 'body' ).on( 'click', '#qcartifacts-group input', function(e) {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };
    
    var payload = read_form();
});

$( 'body' ).on( 'click', '#qcrating-toggler', function(e) {
    toggle_rating();
});
</script>
</div>

<script type="text/javascript">
function toggle(id) {
    var element = document.getElementById(id);
    if(element.style.display == 'block')
        element.style.display = 'none';
    else
        element.style.display = 'block';
}
</script>
</body>
</html>